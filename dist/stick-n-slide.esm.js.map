{"version":3,"file":"stick-n-slide.esm.js","sources":["../node_modules/nanoid/random.js","../node_modules/nanoid/url.js","../node_modules/nanoid/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["var crypto = require('crypto')\n\nif (crypto.randomFillSync) {\n  var buffers = { }\n  module.exports = function (bytes) {\n    var buffer = buffers[bytes]\n    if (!buffer) {\n      buffer = Buffer.allocUnsafe(bytes)\n      if (bytes <= 255) buffers[bytes] = buffer\n    }\n    return crypto.randomFillSync(buffer)\n  }\n} else {\n  module.exports = crypto.randomBytes\n}\n","/**\n * URL safe symbols.\n *\n * This alphabet uses a-z A-Z 0-9 _- symbols.\n * Symbols order was changed for better gzip compression.\n *\n * @name url\n * @type {string}\n *\n * @example\n * const url = require('nanoid/url')\n * generate(url, 10) //=> \"Uakgb_J5m9\"\n */\nmodule.exports =\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\n","var random = require('./random')\nvar url = require('./url')\n\n/**\n * Generate secure URL-friendly unique ID.\n *\n * By default, ID will have 21 symbols to have a collision probability similar\n * to UUID v4.\n *\n * @param {number} [size=21] The number of symbols in ID.\n *\n * @return {string} Random string.\n *\n * @example\n * const nanoid = require('nanoid')\n * model.id = nanoid() //=> \"Uakgb_J5m9g-0JDMbcJqL\"\n *\n * @name nanoid\n * @function\n */\nmodule.exports = function (size) {\n  size = size || 21\n  var bytes = random(size)\n  var id = ''\n  while (size--) {\n    id += url[bytes[size] & 63]\n  }\n  return id\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import normalizeWheel from \"normalize-wheel\";\nimport nanoid from \"nanoid/index.js\";\nimport \"./stick-n-slide.scss\";\n\nconst tableScrollPositions = new WeakMap();\n\nconst observeConfig = {\n  childList: true,\n  subtree: true\n};\n\n// Custom event polyfill\n(function() {\n  if (typeof window.CustomEvent === \"function\") return false;\n\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: null };\n    var evt = document.createEvent(\"CustomEvent\");\n    evt.initCustomEvent(\n      event,\n      params.bubbles,\n      params.cancelable,\n      params.detail\n    );\n    return evt;\n  }\n\n  window.CustomEvent = CustomEvent;\n})();\n\nfunction handleMutations(mutations, observer) {\n  observer.disconnect(); // Prevent any further updates to the DOM from making the observer thrash.\n\n  const table = closest(mutations[0].target, \"sns\");\n\n  mutations.forEach(m => {\n    if (!table.classList.contains(\"sns--pause-mutation\")) {\n      if (m.type === \"childList\") {\n        Array.prototype.slice.call(m.removedNodes).forEach(removedNode => {\n          if (removedNode.classList) {\n            if (m.target.tagName == \"TR\") {\n              // 0) Rebuild entire table TH/TD\n              Array.prototype.slice\n                .call(m.removedNodes)\n                .forEach((removedNode, i) => {\n                  const addedNode = m.addedNodes[i];\n\n                  // Merge DOM attributes\n                  const oldAttrs = removedNode.attributes;\n                  for (let i = oldAttrs.length - 1; i >= 0; i--) {\n                    const attrName = oldAttrs[i].name;\n                    const attrValue = oldAttrs[i].value;\n                    if (attrName === \"style\") {\n                      const oldStyle = (\n                        removedNode.getAttribute(\"style\") || \"\"\n                      ).replace(/;$/, \"\");\n                      addedNode.setAttribute(\n                        \"style\",\n                        `${oldStyle}; ${addedNode.getAttribute(\"style\")}`\n                      );\n                    } else if (attrName === \"class\") {\n                      Array.prototype.slice\n                        .call(removedNode.classList)\n                        .forEach(className => {\n                          addedNode.classList.add(className);\n                        });\n                    } else {\n                      if (addedNode.getAttribute(attrName) === null) {\n                        addedNode.setAttribute(attrName, attrValue);\n                      }\n                    }\n                  }\n\n                  // Build up inner cell and contents\n                  const innerCell = removedNode.firstChild;\n                  const contents = innerCell.firstChild;\n                  while (contents.firstChild) {\n                    contents.removeChild(contents.firstChild);\n                  }\n\n                  while (addedNode.firstChild) {\n                    contents.appendChild(addedNode.firstChild);\n                  }\n\n                  addedNode.appendChild(innerCell);\n                });\n            } else if (removedNode.classList.contains(\"sns__cell-inner\")) {\n              // 1.1 - From scratch\n              m.target.innerCellStyle = removedNode.getAttribute(\"style\");\n            }\n          }\n        });\n        Array.prototype.slice.call(m.addedNodes).forEach(addedNode => {\n          // 1) Rebuild placeholder-cell\n          if (m.target.classList.contains(\"sns__placeholder-cell\")) {\n            if (m.target.innerCellStyle) {\n              // 1.1 - From scratch\n              const innerCell = document.createElement(\"div\");\n              innerCell.setAttribute(\"class\", \"sns__cell-inner\");\n              innerCell.setAttribute(\"style\", m.target.innerCellStyle);\n              delete m.target.innerCellStyle;\n\n              const contents = document.createElement(\"div\");\n              contents.classList.add(\"sns__cell-contents\");\n              contents.appendChild(addedNode);\n\n              innerCell.appendChild(contents);\n              m.target.appendChild(innerCell);\n            } else {\n              // 1.2 - When a direct descendent of placeholder-cell has been created\n              const innerCell = document.createElement(\"div\");\n              innerCell.setAttribute(\"class\", \"sns__cell-inner\");\n\n              const contents = document.createElement(\"div\");\n              contents.classList.add(\"sns__cell-contents\");\n\n              while (m.target.firstChild) {\n                const child = m.target.firstChild;\n                if (\n                  child.classList &&\n                  child.classList.contains(\"sns__cell-inner\")\n                ) {\n                  innerCell.setAttribute(\n                    \"style\",\n                    m.target.firstChild.getAttribute(\"style\")\n                  );\n                  while (child.firstChild.firstChild) {\n                    contents.appendChild(child.firstChild.firstChild);\n                  }\n                  m.target.removeChild(child);\n                } else {\n                  contents.appendChild(child);\n                }\n              }\n\n              innerCell.appendChild(contents);\n\n              m.target.appendChild(innerCell);\n            }\n          }\n\n          // 2) Rebuild cell-inner\n          if (m.target.classList.contains(\"sns__cell-inner\")) {\n            const contents = document.createElement(\"div\");\n            contents.classList.add(\"sns__cell-contents\");\n\n            if (\n              !Array.prototype.slice\n                .call(m.target.children)\n                .find(node => node.classList.contains(\"sns__cell-contents\"))\n            ) {\n              // 2.1 - Build from scratch\n              contents.appendChild(addedNode);\n              m.target.appendChild(contents);\n            } else {\n              // 2.2 - When a direct descendent of cell-inner has been created\n              while (m.target.firstChild) {\n                const child = m.target.firstChild;\n                if (\n                  child.classList &&\n                  child.classList.contains(\"sns__cell-contents\")\n                ) {\n                  while (child && child.firstChild) {\n                    contents.appendChild(child.firstChild);\n                  }\n                  m.target.removeChild(child);\n                } else {\n                  contents.appendChild(child);\n                }\n              }\n              m.target.appendChild(contents);\n            }\n          }\n        });\n      }\n    }\n  });\n\n  ie11SetInnerCellHeights(table, stickyElems);\n\n  requestAnimationFrame(() => {\n    observer.observe(table, observeConfig);\n  });\n}\n\nfunction closest(elem, classMatcher) {\n  if (elem.classList) {\n    if (elem.classList.contains(classMatcher)) {\n      return elem;\n    } else {\n      if (elem.parentElement) {\n        return closest(elem.parentElement, classMatcher);\n      } else {\n        return;\n      }\n    }\n  } else {\n    return closest(elem.parentElement, classMatcher);\n  }\n}\n\nfunction altSide(side) {\n  switch (side) {\n    case \"Left\":\n      return \"Right\";\n    case \"Right\":\n      return \"Left\";\n    case \"Top\":\n      return \"Bottom\";\n    case \"Bottom\":\n      return \"Top\";\n  }\n}\n\nfunction wheelHandler({\n  table,\n  wrapper,\n  stickyElems,\n  pixelX,\n  pixelY,\n  scrollLeft,\n  scrollTop,\n  scrollWidth,\n  scrollHeight,\n  clientWidth,\n  clientHeight,\n  showShadow,\n  callback,\n  isIE11\n}) {\n  const maxWidth = scrollWidth - clientWidth;\n  const maxHeight = scrollHeight - clientHeight;\n  let newX = scrollLeft + pixelX;\n  let newY = scrollTop + pixelY;\n  if (newX >= maxWidth) {\n    newX = maxWidth;\n  }\n  if (newX <= 0) {\n    newX = 0;\n  }\n  if (newY >= maxHeight) {\n    newY = maxHeight;\n  }\n  if (newY <= 0) {\n    newY = 0;\n  }\n\n  if (isIE11) {\n    positionStickyElements(table, stickyElems, showShadow, newX, newY);\n    wrapper.scrollLeft = newX;\n    wrapper.scrollTop = newY;\n  } else {\n    wrapper.scrollLeft = newX;\n    wrapper.scrollTop = newY;\n\n    // Modern browsers have a nasty habit of setting scrollLeft/scrollTop not to the actual integer value you specified, but\n    // rather to a sub-pixel value that is \"pretty close\" to what you specified. To work around that, set the scroll value\n    // and then use that same scroll value as the left/top offset for the stuck elements.\n    positionStickyElements(\n      table,\n      stickyElems,\n      showShadow,\n      wrapper.scrollLeft,\n      wrapper.scrollTop\n    );\n  }\n  if (callback) {\n    callback(newX, newY);\n  }\n}\n\nfunction calculateShadowOffset(value) {\n  value = Math.ceil(value / 10);\n  if (value > 2) {\n    return 2;\n  } else {\n    return value;\n  }\n}\n\nfunction calculateShadowColor(cell, opacity) {\n  const rgb = window\n    .getComputedStyle(cell)\n    .backgroundColor.replace(\"rgb(\", \"\")\n    .replace(\")\", \"\")\n    .split(\",\")\n    .map(value => Math.round(parseInt(value, 10) * 0.3))\n    .join(\",\");\n  return `rgba(${rgb},${opacity})`;\n}\n\nfunction setCellTransforms({ cell, showShadow, scrollLeft, scrollTop }) {\n  let transforms = [];\n  if (\n    cell.classList.contains(\"sns--is-stuck-y\") ||\n    cell.classList.contains(\"sns--is-stuck\")\n  ) {\n    transforms.push(`translateY(${scrollTop}px)`);\n  }\n  if (\n    cell.classList.contains(\"sns--is-stuck-x\") ||\n    cell.classList.contains(\"sns--is-stuck\")\n  ) {\n    transforms.push(`translateX(${scrollLeft}px)`);\n  }\n  cell.style.transform = transforms.join(\" \");\n  positionShadow(cell, showShadow, scrollLeft, scrollTop);\n}\n\nfunction positionStickyElements(\n  table,\n  elems,\n  showShadow,\n  scrollLeft = 0,\n  scrollTop = 0\n) {\n  const { id } = tableScrollPositions.get(table);\n  // styleElem.textContent = cellStyles({ id, left: scrollLeft, top: scrollTop });\n  // requestAnimationFrame(() => {\n  elems.forEach(cellsOfType => {\n    for (let i = 0; i < cellsOfType.length; i++) {\n      const cell = cellsOfType[i];\n      setCellTransforms({ cell, showShadow, scrollLeft, scrollTop });\n    }\n  });\n\n  table.parentElement.dataset.snsScrollLeft = scrollLeft;\n  table.parentElement.dataset.snsScrollTop = scrollTop;\n\n  tableScrollPositions.set(table, { left: scrollLeft, top: scrollTop });\n\n  table.dispatchEvent(\n    new CustomEvent(\"sns:scroll\", {\n      detail: { scrollLeft, scrollTop }\n    })\n  );\n  // });\n}\n\nfunction positionShadow(cell, showShadow, offsetX, offsetY) {\n  if (!showShadow) return;\n  const shadowColor = calculateShadowColor(cell, 0.4);\n  let xShadow = \"0 0\";\n  let yShadow = \"0 0\";\n  let shadow;\n  if (offsetY) {\n    shadow = calculateShadowOffset(offsetY);\n    yShadow = `0 ${shadow}px ${shadowColor}`;\n  }\n  if (offsetX) {\n    shadow = calculateShadowOffset(offsetX);\n    xShadow = `${shadow}px 0 ${shadowColor}`;\n  }\n  cell.style.setProperty(\"--x-shadow\", xShadow);\n  cell.style.setProperty(\"--y-shadow\", yShadow);\n}\n\nfunction scrollHandler(table, stickyElems, wrapper, showShadow, callback) {\n  updateScrollPosition(table, stickyElems, wrapper, showShadow, callback);\n}\n\nfunction updateScrollPosition(\n  table,\n  stickyElems,\n  wrapper,\n  showShadow,\n  callback\n) {\n  positionStickyElements(\n    table,\n    stickyElems,\n    showShadow,\n    wrapper.scrollLeft,\n    wrapper.scrollTop\n  );\n  if (callback) {\n    callback(wrapper.scrollLeft, wrapper.scrollTop);\n  }\n}\n\nfunction buildInnerCell(cell) {\n  const cellStyles = window.getComputedStyle(cell);\n  cell.classList.add(\"sns__placeholder-cell\");\n  let innerCell = document.createElement(\"div\");\n  innerCell.setAttribute(\"class\", \"sns__cell-inner\");\n  let cellContents = document.createElement(\"div\");\n  cellContents.setAttribute(\"class\", \"sns__cell-contents\");\n  let setStyles = true;\n  while (cell.firstChild) {\n    cellContents.appendChild(cell.firstChild);\n    if (\n      cell.firstChild &&\n      cell.firstChild.classList &&\n      cell.firstChild.classList.contains(\"sns__cell-inner\")\n    ) {\n      while (cell.firstChild.firstChild.firstChild) {\n        cellContents.appendChild(cell.firstChild.firstChild.firstChild);\n      }\n      innerCell.setAttribute(\"style\", cell.firstChild.getAttribute(\"style\"));\n      innerCell.style.height = \"\";\n      if (\"removeNode\" in cell.firstChild) {\n        // IE11 specific method.\n        cell.firstChild.removeNode(true);\n      } else {\n        // All other browsers ... technically not needed (since this code path only deals with IE11) but good to have for testing in other browsers.\n        cell.firstChild.remove();\n      }\n      setStyles = false;\n    }\n  }\n  innerCell.appendChild(cellContents);\n  cell.innerHTML = \"\";\n  cell.appendChild(innerCell);\n\n  if (setStyles) {\n    [\"padding\", \"border\"].forEach(property => {\n      [\"Top\", \"Right\", \"Bottom\", \"Left\"].forEach(side => {\n        if (property === \"border\") {\n          const borderWidth = cellStyles[`border${side}Width`];\n          innerCell.style[\n            `margin${altSide(side)}`\n          ] = `calc(-1 * ${borderWidth})`;\n\n          [\"Width\", \"Color\", \"Style\"].forEach(attr => {\n            const value = cellStyles[`${property}${side}${attr}`];\n            innerCell.style[`${property}${side}${attr}`] = value;\n          });\n        } else {\n          innerCell.style[`${property}${side}`] =\n            cellStyles[`${property}${side}`];\n        }\n      });\n      cell.style[property] = \"0\";\n    });\n\n    innerCell.style.display = \"flex\";\n    innerCell.style.alignItems = verticalAlignment(cellStyles.verticalAlign);\n  }\n}\n\n// Convert regular `vertical-align` CSS into flexbox friendly alternative.\nfunction verticalAlignment(value) {\n  switch (value) {\n    case \"middle\":\n      return \"center\";\n    case \"top\":\n      return \"start\";\n    case \"bottom\":\n      return \"end\";\n    case \"baseline\":\n      return \"baseline\";\n    default:\n      return \"\";\n  }\n}\n\nfunction ie11SetInnerCellHeights(table, stickyElems) {\n  for (let stickyIdx = 0; stickyIdx < stickyElems.length; stickyIdx++) {\n    for (let typeIdx = 0; typeIdx < stickyElems[stickyIdx].length; typeIdx++) {\n      const cell = stickyElems[stickyIdx][typeIdx];\n\n      cell.style.height = \"\";\n    }\n  }\n\n  requestAnimationFrame(() => {\n    for (let stickyIdx = 0; stickyIdx < stickyElems.length; stickyIdx++) {\n      for (\n        let typeIdx = 0;\n        typeIdx < stickyElems[stickyIdx].length;\n        typeIdx++\n      ) {\n        const cell = stickyElems[stickyIdx][typeIdx];\n        cell.style.height = `${cell.getBoundingClientRect().height}px`;\n      }\n    }\n\n    // stickyElems.forEach(cell => {\n    //   cell.style.height = `${cell.getBoundingClientRect().height}px`;\n    // });\n  });\n}\n\nfunction generateBorder({\n  cell,\n  isFirefox,\n  isIE11,\n  scrollPositions: { left, top },\n  showShadow\n}) {\n  if (isIE11) {\n    // Behavior for IE11.\n    buildInnerCell(cell);\n  } else {\n    // Everything other than IE11.\n    const cellStyles = window.getComputedStyle(cell);\n    [\"Top\", \"Right\", \"Bottom\", \"Left\"].forEach(side => {\n      [\"Width\"].forEach(property => {\n        let borderWidth = cellStyles[`border${side}${property}`];\n        if (isFirefox) {\n          const value = borderWidth.match(/([^a-z%]+)([a-z%]+)/);\n          borderWidth = `${Math.round(value[1])}${value[2]}`;\n        }\n        cell.style[`margin${side}`] = `-${borderWidth}`;\n      });\n    });\n  }\n  // setCellTransforms({ cell, scrollLeft: left, scrollTop: top, showShadow });\n  // cell.style.transform = `translateX(${left}px) translateY(${top}px)`;\n}\n\nfunction cellStyles({ id, left, top }) {\n  return `\n  .sns.sns-${id} .sns--is-stuck {\n    transform: translate(${left}px, ${top}px);\n  }\n  .sns.sns-${id} .sns--is-stuck-x {\n    transform: translateX(${left}px);\n  }\n  .sns.sns-${id} .sns--is-stuck-y {\n    transform: translateY(${top}px);\n  }`;\n}\n\nexport default function(elems, options = {}) {\n  const { showShadow, callback } = options;\n  // Must test for FF, because it does some seriously horrible things to the table layout.\n  const userAgent = navigator.userAgent.toLowerCase();\n  const isFirefox = userAgent.indexOf(\"firefox\") > -1;\n  const isIE = userAgent.indexOf(\"trident\") > -1;\n  const isIEedge = userAgent.indexOf(\"edge\") > -1;\n  const isIE11 = isIE && !isIEedge;\n\n  // Convert a jQuery object to an array, or convert a single element to an array.\n  if (typeof elems.toArray === \"function\") {\n    elems = elems.toArray();\n  } else if (!Array.isArray(elems)) {\n    elems = [elems];\n  }\n\n  elems.forEach(table => {\n    if (!tableScrollPositions.get(table)) {\n      const wrapper = table.parentElement;\n      const id = nanoid();\n      table.classList.add(`sns-${id}`);\n      // const styleElem = document.createElement(\"style\");\n\n      // The data-sns-scroll-left & data-sns-scroll-top attributes are attributes\n      // that 3rd party libraries can use to interface with Stick-n-Slide.\n      // If these values are changed, then update both the scroll position and the\n      // transform positions of stuck elements.\n      new MutationObserver((mutations, observer) => {\n        const wrapper = mutations[0].target;\n\n        // if (\n        //   parseFloat(wrapper.dataset.snsScrollLeft) !== wrapper.scrollLeft ||\n        //   parseFloat(wrapper.dataset.snsScrollTop) !== wrapper.scrollTop\n        // )\n        positionStickyElements(\n          table,\n          stickyElems,\n          showShadow,\n          wrapper.dataset.snsScrollLeft,\n          wrapper.dataset.snsScrollTop\n        );\n        wrapper.scrollLeft = wrapper.dataset.snsScrollLeft;\n        wrapper.scrollTop = wrapper.dataset.snsScrollTop;\n        observer.takeRecords();\n      }).observe(wrapper, {\n        attributes: true,\n        attributeFilter: [\"data-sns-scroll-left\", \"data-sns-scroll-top\"],\n        attributeOldValue: true\n      });\n\n      wrapper.addEventListener(\n        \"wheel\",\n        event => {\n          const normalized = normalizeWheel(event);\n          wheelEventTriggered = true;\n          const { pixelX, pixelY } = normalized;\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight\n          } = wrapper;\n\n          const opts = {\n            table,\n            wrapper,\n            stickyElems,\n            pixelX,\n            pixelY,\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight,\n            showShadow,\n            callback,\n            isIE11\n          };\n\n          if (isIE || isIEedge) {\n            event.preventDefault();\n            event.stopPropagation();\n            wheelHandler(opts);\n          } else {\n            event.preventDefault();\n            wheelHandler(opts);\n          }\n        },\n        { capture: true }\n      );\n\n      wrapper.addEventListener(\"scroll\", () => {\n        if (wheelEventTriggered) {\n          wheelEventTriggered = false;\n        } else {\n          scrollHandler(table, stickyElems, wrapper, showShadow, callback);\n        }\n      });\n\n      const stickyElems = [\n        \"sns--is-stuck\",\n        \"sns--is-stuck-y\",\n        \"sns--is-stuck-x\"\n      ].reduce((acc, className) => {\n        acc.push(table.getElementsByClassName(className));\n        return acc;\n      }, []);\n\n      if (getComputedStyle(wrapper).position === \"static\") {\n        wrapper.style.position = \"relative\";\n      }\n      table.classList.add(\"sns\");\n      table.style.position = \"relative\";\n\n      [\"Top\", \"Left\"].forEach(side => {\n        if (table[`offset${side}`] > 0) {\n          table.style[side.toLowerCase()] = `-${table[`offset${side}`]}px`;\n        }\n      });\n\n      const scrollPositions = {\n        id,\n        // styleElem,\n        left: wrapper.scrollLeft || 0,\n        top: wrapper.scrollTop || 0\n      };\n      tableScrollPositions.set(table, scrollPositions);\n\n      // styleElem.textContent = cellStyles({\n      //   id,\n      //   left: scrollPositions.left,\n      //   top: scrollPositions.top\n      // });\n      // wrapper.appendChild(styleElem);\n\n      for (let stickyIdx = 0; stickyIdx < stickyElems.length; stickyIdx++) {\n        for (\n          let typeIdx = 0;\n          typeIdx < stickyElems[stickyIdx].length;\n          typeIdx++\n        ) {\n          const cell = stickyElems[stickyIdx][typeIdx];\n          generateBorder({\n            cell,\n            isFirefox,\n            isIE11,\n            scrollPositions,\n            showShadow\n          });\n        }\n      }\n\n      // Variable that tracks whether \"wheel\" event was called.\n      // Prevents both \"wheel\" and \"scroll\" events being triggered simultaneously.\n      let wheelEventTriggered = false;\n\n      // Set initial position of elements to 0.\n      requestAnimationFrame(() => {\n        // positionStickyElements(table, stickyElems, showShadow, isIE11);\n        positionStickyElements(\n          table,\n          stickyElems,\n          showShadow,\n          wrapper.scrollLeft,\n          wrapper.scrollTop\n        );\n\n        if (isIE11) {\n          ie11SetInnerCellHeights(table, stickyElems);\n        }\n\n        // ----------------------------\n        // Handle IE11 mutations to the table cells.\n        requestAnimationFrame(() => {\n          if (isIE && !isIEedge) {\n            let observer = new MutationObserver(handleMutations);\n            observer.observe(table, observeConfig);\n          } else {\n            new MutationObserver(mutations => {\n              mutations.forEach(mutation => {\n                if (!/^THEAD|TBODY|TFOOT|TH|TD$/.test(mutation.target.nodeName))\n                  return;\n\n                for (\n                  let stickyIdx = 0;\n                  stickyIdx < stickyElems.length;\n                  stickyIdx++\n                ) {\n                  for (\n                    let typeIdx = 0;\n                    typeIdx < stickyElems[stickyIdx].length;\n                    typeIdx++\n                  ) {\n                    const cell = stickyElems[stickyIdx][typeIdx];\n                    generateBorder({\n                      cell,\n                      isFirefox,\n                      isIE11,\n                      scrollPositions,\n                      showShadow\n                    });\n                  }\n                }\n              });\n            }).observe(wrapper, {\n              childList: true,\n              subtree: true,\n              attributes: true,\n              attributeFilter: [\"class\"]\n            });\n          }\n        });\n      });\n    }\n    return;\n  });\n\n  window.addEventListener(\"resize\", () => {\n    requestAnimationFrame(() => {\n      elems.forEach(table => {\n        if (isIE11) {\n          ie11SetInnerCellHeights(table, stickyElems);\n        }\n      });\n    });\n  });\n}\n"],"names":[],"mappings":"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"}